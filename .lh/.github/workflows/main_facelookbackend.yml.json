{
    "sourceFile": ".github/workflows/main_facelookbackend.yml",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 18,
            "patches": [
                {
                    "date": 1731985409525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1731985657414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,8 @@\n         run: |\r\n           cd backend\r\n           yarn install\r\n           yarn build\r\n-          yarn test --if-present\r\n       \r\n       - name: Upload artifact for deployment job\r\n         uses: actions/upload-artifact@v4\r\n         with:\r\n@@ -61,6 +60,6 @@\n         id: deploy-to-webapp\r\n         with:\r\n           app-name: 'facelookBackend'\r\n           slot-name: 'Production'\r\n-          package: .\r\n+          package: backend\r\n           \n\\ No newline at end of file\n"
                },
                {
                    "date": 1731985920572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,6 +60,6 @@\n         id: deploy-to-webapp\r\n         with:\r\n           app-name: 'facelookBackend'\r\n           slot-name: 'Production'\r\n-          package: backend\r\n+          package: dist\r\n           \n\\ No newline at end of file\n"
                },
                {
                    "date": 1731987556538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,65 @@\n+# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n+# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n+\r\n+name: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n+\r\n+on:\r\n+  push:\r\n+    branches:\r\n+      - main\r\n+  workflow_dispatch:\r\n+\r\n+jobs:\r\n+  build:\r\n+    runs-on: windows-latest\r\n+\r\n+    steps:\r\n+      - uses: actions/checkout@v4\r\n+\r\n+      - name: Set up Node.js version\r\n+        uses: actions/setup-node@v3\r\n+        with:\r\n+          node-version: '20.x'\r\n+\r\n+      - name: yarn install, build, and test\r\n+        run: |\r\n+          cd backend\r\n+          yarn install\r\n+          yarn build\r\n+      \r\n+      - name: Upload artifact for deployment job\r\n+        uses: actions/upload-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+          path: backend/dist\r\n+\r\n+  deploy:\r\n+    runs-on: ubuntu-latest\r\n+    needs: build\r\n+    environment:\r\n+      name: 'Production'\r\n+      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n+    permissions:\r\n+      id-token: write #This is required for requesting the JWT\r\n+\r\n+    steps:\r\n+      - name: Download artifact from build job\r\n+        uses: actions/download-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+      \r\n+      - name: Login to Azure\r\n+        uses: azure/login@v2\r\n+        with:\r\n+          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n+          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n+          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n+\r\n+      - name: 'Deploy to Azure Web App'\r\n+        uses: azure/webapps-deploy@v3\r\n+        id: deploy-to-webapp\r\n+        with:\r\n+          app-name: 'facelookBackend'\r\n+          slot-name: 'Production'\r\n+          package: .\r\n+          \n\\ No newline at end of file\n"
                },
                {
                    "date": 1731987962792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,18 +30,20 @@\n       - name: Upload artifact for deployment job\r\n         uses: actions/upload-artifact@v4\r\n         with:\r\n           name: node-app\r\n-          path: backend/dist\r\n+          path: |\r\n+            backend/dist\r\n+            backend/web.config\r\n \r\n   deploy:\r\n-    runs-on: ubuntu-latest\r\n+    runs-on: windows-latest\r\n     needs: build\r\n     environment:\r\n       name: 'Production'\r\n       url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n     permissions:\r\n-      id-token: write #This is required for requesting the JWT\r\n+      id-token: write\r\n \r\n     steps:\r\n       - name: Download artifact from build job\r\n         uses: actions/download-artifact@v4\r\n@@ -61,70 +63,5 @@\n         with:\r\n           app-name: 'facelookBackend'\r\n           slot-name: 'Production'\r\n           package: .\r\n-          \n-# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n-# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n-\r\n-name: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n-\r\n-on:\r\n-  push:\r\n-    branches:\r\n-      - main\r\n-  workflow_dispatch:\r\n-\r\n-jobs:\r\n-  build:\r\n-    runs-on: windows-latest\r\n-\r\n-    steps:\r\n-      - uses: actions/checkout@v4\r\n-\r\n-      - name: Set up Node.js version\r\n-        uses: actions/setup-node@v3\r\n-        with:\r\n-          node-version: '20.x'\r\n-\r\n-      - name: yarn install, build, and test\r\n-        run: |\r\n-          cd backend\r\n-          yarn install\r\n-          yarn build\r\n-      \r\n-      - name: Upload artifact for deployment job\r\n-        uses: actions/upload-artifact@v4\r\n-        with:\r\n-          name: node-app\r\n-          path: backend\r\n-\r\n-  deploy:\r\n-    runs-on: ubuntu-latest\r\n-    needs: build\r\n-    environment:\r\n-      name: 'Production'\r\n-      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n-    permissions:\r\n-      id-token: write #This is required for requesting the JWT\r\n-\r\n-    steps:\r\n-      - name: Download artifact from build job\r\n-        uses: actions/download-artifact@v4\r\n-        with:\r\n-          name: node-app\r\n-      \r\n-      - name: Login to Azure\r\n-        uses: azure/login@v2\r\n-        with:\r\n-          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n-          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n-          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n-\r\n-      - name: 'Deploy to Azure Web App'\r\n-        uses: azure/webapps-deploy@v3\r\n-        id: deploy-to-webapp\r\n-        with:\r\n-          app-name: 'facelookBackend'\r\n-          slot-name: 'Production'\r\n-          package: dist\r\n           \n\\ No newline at end of file\n"
                },
                {
                    "date": 1731988223982,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,18 +23,27 @@\n \r\n       - name: yarn install, build, and test\r\n         run: |\r\n           cd backend\r\n-          yarn install\r\n+          yarn install --production=false\r\n           yarn build\r\n       \r\n+      - name: Copy package files\r\n+        run: |\r\n+          cd backend\r\n+          copy package.json dist\\\r\n+          copy yarn.lock dist\\\r\n+          \r\n+      - name: Install production dependencies\r\n+        run: |\r\n+          cd backend/dist\r\n+          yarn install --production=true\r\n+\r\n       - name: Upload artifact for deployment job\r\n         uses: actions/upload-artifact@v4\r\n         with:\r\n           name: node-app\r\n-          path: |\r\n-            backend/dist\r\n-            backend/web.config\r\n+          path: backend/dist\r\n \r\n   deploy:\r\n     runs-on: windows-latest\r\n     needs: build\r\n"
                },
                {
                    "date": 1731988599727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,14 +26,20 @@\n           cd backend\r\n           yarn install --production=false\r\n           yarn build\r\n       \r\n-      - name: Copy package files\r\n+      - name: Copy package files and web.config\r\n         run: |\r\n           cd backend\r\n           copy package.json dist\\\r\n           copy yarn.lock dist\\\r\n-          \r\n+          copy web.config dist\\\r\n+          cd dist\r\n+          move index.js ..\\\r\n+          move * ..\\\r\n+          cd ..\r\n+          rmdir dist\r\n+\r\n       - name: Install production dependencies\r\n         run: |\r\n           cd backend/dist\r\n           yarn install --production=true\r\n"
                },
                {
                    "date": 1731988754858,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,84 @@\n+# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n+# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n+\r\n+name: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n+\r\n+on:\r\n+  push:\r\n+    branches:\r\n+      - main\r\n+  workflow_dispatch:\r\n+\r\n+jobs:\r\n+  build:\r\n+    runs-on: windows-latest\r\n+\r\n+    steps:\r\n+      - uses: actions/checkout@v4\r\n+\r\n+      - name: Set up Node.js version\r\n+        uses: actions/setup-node@v3\r\n+        with:\r\n+          node-version: '20.x'\r\n+\r\n+      - name: yarn install, build, and test\r\n+        run: |\r\n+          cd backend\r\n+          yarn install --production=false\r\n+          yarn build\r\n+      \r\n+      - name: Copy package files and web.config\r\n+        run: |\r\n+          cd backend\r\n+          copy package.json dist\\\r\n+          copy yarn.lock dist\\\r\n+          copy web.config dist\\\r\n+          cd dist\r\n+          move index.js ..\\\r\n+          move *.js ..\\\r\n+          move *.json ..\\\r\n+          move web.config ..\\\r\n+          cd ..\r\n+          rmdir dist\r\n+\r\n+      - name: Install production dependencies\r\n+        run: |\r\n+          cd backend/dist\r\n+          yarn install --production=true\r\n+\r\n+      - name: Upload artifact for deployment job\r\n+        uses: actions/upload-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+          path: backend/dist\r\n+\r\n+  deploy:\r\n+    runs-on: windows-latest\r\n+    needs: build\r\n+    environment:\r\n+      name: 'Production'\r\n+      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n+    permissions:\r\n+      id-token: write\r\n+\r\n+    steps:\r\n+      - name: Download artifact from build job\r\n+        uses: actions/download-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+      \r\n+      - name: Login to Azure\r\n+        uses: azure/login@v2\r\n+        with:\r\n+          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n+          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n+          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n+\r\n+      - name: 'Deploy to Azure Web App'\r\n+        uses: azure/webapps-deploy@v3\r\n+        id: deploy-to-webapp\r\n+        with:\r\n+          app-name: 'facelookBackend'\r\n+          slot-name: 'Production'\r\n+          package: .\r\n+          \n\\ No newline at end of file\n"
                },
                {
                    "date": 1731989041672,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,8 +33,11 @@\n           copy package.json dist\\\r\n           copy yarn.lock dist\\\r\n           copy web.config dist\\\r\n           cd dist\r\n+          del ..\\index.js\r\n+          del ..\\package.json\r\n+          del ..\\web.config\r\n           move index.js ..\\\r\n           move *.js ..\\\r\n           move *.json ..\\\r\n           move web.config ..\\\r\n@@ -80,87 +83,5 @@\n         with:\r\n           app-name: 'facelookBackend'\r\n           slot-name: 'Production'\r\n           package: .\r\n-          \n-# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n-# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n-\r\n-name: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n-\r\n-on:\r\n-  push:\r\n-    branches:\r\n-      - main\r\n-  workflow_dispatch:\r\n-\r\n-jobs:\r\n-  build:\r\n-    runs-on: windows-latest\r\n-\r\n-    steps:\r\n-      - uses: actions/checkout@v4\r\n-\r\n-      - name: Set up Node.js version\r\n-        uses: actions/setup-node@v3\r\n-        with:\r\n-          node-version: '20.x'\r\n-\r\n-      - name: yarn install, build, and test\r\n-        run: |\r\n-          cd backend\r\n-          yarn install --production=false\r\n-          yarn build\r\n-      \r\n-      - name: Copy package files and web.config\r\n-        run: |\r\n-          cd backend\r\n-          copy package.json dist\\\r\n-          copy yarn.lock dist\\\r\n-          copy web.config dist\\\r\n-          cd dist\r\n-          move index.js ..\\\r\n-          move * ..\\\r\n-          cd ..\r\n-          rmdir dist\r\n-\r\n-      - name: Install production dependencies\r\n-        run: |\r\n-          cd backend/dist\r\n-          yarn install --production=true\r\n-\r\n-      - name: Upload artifact for deployment job\r\n-        uses: actions/upload-artifact@v4\r\n-        with:\r\n-          name: node-app\r\n-          path: backend/dist\r\n-\r\n-  deploy:\r\n-    runs-on: windows-latest\r\n-    needs: build\r\n-    environment:\r\n-      name: 'Production'\r\n-      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n-    permissions:\r\n-      id-token: write\r\n-\r\n-    steps:\r\n-      - name: Download artifact from build job\r\n-        uses: actions/download-artifact@v4\r\n-        with:\r\n-          name: node-app\r\n-      \r\n-      - name: Login to Azure\r\n-        uses: azure/login@v2\r\n-        with:\r\n-          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n-          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n-          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n-\r\n-      - name: 'Deploy to Azure Web App'\r\n-        uses: azure/webapps-deploy@v3\r\n-        id: deploy-to-webapp\r\n-        with:\r\n-          app-name: 'facelookBackend'\r\n-          slot-name: 'Production'\r\n-          package: .\r\n           \n\\ No newline at end of file\n"
                },
                {
                    "date": 1731989303374,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,28 +33,22 @@\n           copy package.json dist\\\r\n           copy yarn.lock dist\\\r\n           copy web.config dist\\\r\n           cd dist\r\n-          del ..\\index.js\r\n-          del ..\\package.json\r\n-          del ..\\web.config\r\n-          move index.js ..\\\r\n-          move *.js ..\\\r\n-          move *.json ..\\\r\n-          move web.config ..\\\r\n+          move *.* ..\\\r\n           cd ..\r\n           rmdir dist\r\n \r\n       - name: Install production dependencies\r\n         run: |\r\n-          cd backend/dist\r\n+          cd backend\r\n           yarn install --production=true\r\n \r\n       - name: Upload artifact for deployment job\r\n         uses: actions/upload-artifact@v4\r\n         with:\r\n           name: node-app\r\n-          path: backend/dist\r\n+          path: backend\r\n \r\n   deploy:\r\n     runs-on: windows-latest\r\n     needs: build\r\n"
                },
                {
                    "date": 1731989787421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,75 @@\n+# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n+# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n+\r\n+name: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n+\r\n+on:\r\n+  push:\r\n+    branches:\r\n+      - main\r\n+  workflow_dispatch:\r\n+\r\n+jobs:\r\n+  build:\r\n+    runs-on: windows-latest\r\n+\r\n+    steps:\r\n+      - uses: actions/checkout@v4\r\n+\r\n+      - name: Set up Node.js version\r\n+        uses: actions/setup-node@v3\r\n+        with:\r\n+          node-version: '20.x'\r\n+\r\n+      - name: yarn install, build, and test\r\n+        run: |\r\n+          cd backend\r\n+          yarn install --production=false\r\n+          yarn build\r\n+      \r\n+      - name: Copy package files\r\n+        run: |\r\n+          cd backend\r\n+          copy package.json dist\\\r\n+          copy yarn.lock dist\\\r\n+          \r\n+      - name: Install production dependencies\r\n+        run: |\r\n+          cd backend/dist\r\n+          yarn install --production=true\r\n+\r\n+      - name: Upload artifact for deployment job\r\n+        uses: actions/upload-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+          path: backend/dist\r\n+\r\n+  deploy:\r\n+    runs-on: windows-latest\r\n+    needs: build\r\n+    environment:\r\n+      name: 'Production'\r\n+      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n+    permissions:\r\n+      id-token: write\r\n+\r\n+    steps:\r\n+      - name: Download artifact from build job\r\n+        uses: actions/download-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+      \r\n+      - name: Login to Azure\r\n+        uses: azure/login@v2\r\n+        with:\r\n+          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n+          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n+          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n+\r\n+      - name: 'Deploy to Azure Web App'\r\n+        uses: azure/webapps-deploy@v3\r\n+        id: deploy-to-webapp\r\n+        with:\r\n+          app-name: 'facelookBackend'\r\n+          slot-name: 'Production'\r\n+          package: .\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731990048012,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,8 +31,9 @@\n         run: |\r\n           cd backend\r\n           copy package.json dist\\\r\n           copy yarn.lock dist\\\r\n+          copy web.config dist\\\r\n           \r\n       - name: Install production dependencies\r\n         run: |\r\n           cd backend/dist\r\n@@ -71,86 +72,5 @@\n         id: deploy-to-webapp\r\n         with:\r\n           app-name: 'facelookBackend'\r\n           slot-name: 'Production'\r\n-          package: .\n-# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n-# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n-\r\n-name: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n-\r\n-on:\r\n-  push:\r\n-    branches:\r\n-      - main\r\n-  workflow_dispatch:\r\n-\r\n-jobs:\r\n-  build:\r\n-    runs-on: windows-latest\r\n-\r\n-    steps:\r\n-      - uses: actions/checkout@v4\r\n-\r\n-      - name: Set up Node.js version\r\n-        uses: actions/setup-node@v3\r\n-        with:\r\n-          node-version: '20.x'\r\n-\r\n-      - name: yarn install, build, and test\r\n-        run: |\r\n-          cd backend\r\n-          yarn install --production=false\r\n-          yarn build\r\n-      \r\n-      - name: Copy package files and web.config\r\n-        run: |\r\n-          cd backend\r\n-          copy package.json dist\\\r\n-          copy yarn.lock dist\\\r\n-          copy web.config dist\\\r\n-          cd dist\r\n-          move *.* ..\\\r\n-          cd ..\r\n-          rmdir dist\r\n-\r\n-      - name: Install production dependencies\r\n-        run: |\r\n-          cd backend\r\n-          yarn install --production=true\r\n-\r\n-      - name: Upload artifact for deployment job\r\n-        uses: actions/upload-artifact@v4\r\n-        with:\r\n-          name: node-app\r\n-          path: backend\r\n-\r\n-  deploy:\r\n-    runs-on: windows-latest\r\n-    needs: build\r\n-    environment:\r\n-      name: 'Production'\r\n-      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n-    permissions:\r\n-      id-token: write\r\n-\r\n-    steps:\r\n-      - name: Download artifact from build job\r\n-        uses: actions/download-artifact@v4\r\n-        with:\r\n-          name: node-app\r\n-      \r\n-      - name: Login to Azure\r\n-        uses: azure/login@v2\r\n-        with:\r\n-          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n-          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n-          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n-\r\n-      - name: 'Deploy to Azure Web App'\r\n-        uses: azure/webapps-deploy@v3\r\n-        id: deploy-to-webapp\r\n-        with:\r\n-          app-name: 'facelookBackend'\r\n-          slot-name: 'Production'\r\n-          package: .\r\n-          \n\\ No newline at end of file\n+          package: .\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731990841524,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,8 +37,10 @@\n       - name: Install production dependencies\r\n         run: |\r\n           cd backend/dist\r\n           yarn install --production=true\r\n+        env:\r\n+          NODE_ENV: production\r\n \r\n       - name: Upload artifact for deployment job\r\n         uses: actions/upload-artifact@v4\r\n         with:\r\n"
                },
                {
                    "date": 1731991182549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,11 @@\n         run: |\r\n           cd backend\r\n           yarn install --production=false\r\n           yarn build\r\n-      \r\n+        env:\r\n+          NODE_ENV: development\r\n+\r\n       - name: Copy package files\r\n         run: |\r\n           cd backend\r\n           copy package.json dist\\\r\n@@ -36,9 +38,9 @@\n           \r\n       - name: Install production dependencies\r\n         run: |\r\n           cd backend/dist\r\n-          yarn install --production=true\r\n+          yarn install --production=true --frozen-lockfile\r\n         env:\r\n           NODE_ENV: production\r\n \r\n       - name: Upload artifact for deployment job\r\n"
                },
                {
                    "date": 1731991512686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,80 @@\n+# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n+# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n+\r\n+name: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n+\r\n+on:\r\n+  push:\r\n+    branches:\r\n+      - main\r\n+  workflow_dispatch:\r\n+\r\n+jobs:\r\n+  build:\r\n+    runs-on: windows-latest\r\n+\r\n+    steps:\r\n+      - uses: actions/checkout@v4\r\n+\r\n+      - name: Set up Node.js version\r\n+        uses: actions/setup-node@v3\r\n+        with:\r\n+          node-version: '20.x'\r\n+\r\n+      - name: yarn install, build, and test\r\n+        run: |\r\n+          cd backend\r\n+          yarn install\r\n+          yarn build\r\n+        env:\r\n+          NODE_ENV: development\r\n+\r\n+      - name: Copy package files\r\n+        run: |\r\n+          cd backend\r\n+          copy package.json dist\\\r\n+          copy yarn.lock dist\\\r\n+          copy web.config dist\\\r\n+          \r\n+      - name: Install dependencies\r\n+        run: |\r\n+          cd backend/dist\r\n+          yarn install --frozen-lockfile\r\n+        env:\r\n+          NODE_ENV: development\r\n+\r\n+      - name: Upload artifact for deployment job\r\n+        uses: actions/upload-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+          path: backend/dist\r\n+\r\n+  deploy:\r\n+    runs-on: windows-latest\r\n+    needs: build\r\n+    environment:\r\n+      name: 'Production'\r\n+      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n+    permissions:\r\n+      id-token: write\r\n+\r\n+    steps:\r\n+      - name: Download artifact from build job\r\n+        uses: actions/download-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+      \r\n+      - name: Login to Azure\r\n+        uses: azure/login@v2\r\n+        with:\r\n+          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n+          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n+          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n+\r\n+      - name: 'Deploy to Azure Web App'\r\n+        uses: azure/webapps-deploy@v3\r\n+        id: deploy-to-webapp\r\n+        with:\r\n+          app-name: 'facelookBackend'\r\n+          slot-name: 'Production'\r\n+          package: .\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731992627826,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n         run: |\r\n           cd backend\r\n           copy package.json dist\\\r\n           copy yarn.lock dist\\\r\n-          copy web.config dist\\\r\n+          copy web.config .\\\r\n           \r\n       - name: Install dependencies\r\n         run: |\r\n           cd backend/dist\r\n@@ -76,85 +76,5 @@\n         id: deploy-to-webapp\r\n         with:\r\n           app-name: 'facelookBackend'\r\n           slot-name: 'Production'\r\n-          package: .\n-# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n-# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n-\r\n-name: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n-\r\n-on:\r\n-  push:\r\n-    branches:\r\n-      - main\r\n-  workflow_dispatch:\r\n-\r\n-jobs:\r\n-  build:\r\n-    runs-on: windows-latest\r\n-\r\n-    steps:\r\n-      - uses: actions/checkout@v4\r\n-\r\n-      - name: Set up Node.js version\r\n-        uses: actions/setup-node@v3\r\n-        with:\r\n-          node-version: '20.x'\r\n-\r\n-      - name: yarn install, build, and test\r\n-        run: |\r\n-          cd backend\r\n-          yarn install --production=false\r\n-          yarn build\r\n-        env:\r\n-          NODE_ENV: development\r\n-\r\n-      - name: Copy package files\r\n-        run: |\r\n-          cd backend\r\n-          copy package.json dist\\\r\n-          copy yarn.lock dist\\\r\n-          copy web.config dist\\\r\n-          \r\n-      - name: Install production dependencies\r\n-        run: |\r\n-          cd backend/dist\r\n-          yarn install --production=true --frozen-lockfile\r\n-        env:\r\n-          NODE_ENV: production\r\n-\r\n-      - name: Upload artifact for deployment job\r\n-        uses: actions/upload-artifact@v4\r\n-        with:\r\n-          name: node-app\r\n-          path: backend/dist\r\n-\r\n-  deploy:\r\n-    runs-on: windows-latest\r\n-    needs: build\r\n-    environment:\r\n-      name: 'Production'\r\n-      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n-    permissions:\r\n-      id-token: write\r\n-\r\n-    steps:\r\n-      - name: Download artifact from build job\r\n-        uses: actions/download-artifact@v4\r\n-        with:\r\n-          name: node-app\r\n-      \r\n-      - name: Login to Azure\r\n-        uses: azure/login@v2\r\n-        with:\r\n-          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n-          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n-          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n-\r\n-      - name: 'Deploy to Azure Web App'\r\n-        uses: azure/webapps-deploy@v3\r\n-        id: deploy-to-webapp\r\n-        with:\r\n-          app-name: 'facelookBackend'\r\n-          slot-name: 'Production'\r\n           package: .\n\\ No newline at end of file\n"
                },
                {
                    "date": 1731992838534,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n         run: |\r\n           cd backend\r\n           copy package.json dist\\\r\n           copy yarn.lock dist\\\r\n-          copy web.config .\\\r\n+          copy web.config dist\\\r\n           \r\n       - name: Install dependencies\r\n         run: |\r\n           cd backend/dist\r\n"
                },
                {
                    "date": 1731992896025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,26 +23,21 @@\n \r\n       - name: yarn install, build, and test\r\n         run: |\r\n           cd backend\r\n-          yarn install\r\n+          yarn install --production=false\r\n           yarn build\r\n-        env:\r\n-          NODE_ENV: development\r\n-\r\n+      \r\n       - name: Copy package files\r\n         run: |\r\n           cd backend\r\n           copy package.json dist\\\r\n           copy yarn.lock dist\\\r\n-          copy web.config dist\\\r\n           \r\n-      - name: Install dependencies\r\n+      - name: Install production dependencies\r\n         run: |\r\n           cd backend/dist\r\n-          yarn install --frozen-lockfile\r\n-        env:\r\n-          NODE_ENV: development\r\n+          yarn install --production=true\r\n \r\n       - name: Upload artifact for deployment job\r\n         uses: actions/upload-artifact@v4\r\n         with:\r\n"
                },
                {
                    "date": 1731993648940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,80 @@\n+# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n+# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n+\r\n+name: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n+\r\n+on:\r\n+  push:\r\n+    branches:\r\n+      - main\r\n+  workflow_dispatch:\r\n+\r\n+jobs:\r\n+  build:\r\n+    runs-on: windows-latest\r\n+\r\n+    steps:\r\n+      - uses: actions/checkout@v4\r\n+\r\n+      - name: Set up Node.js version\r\n+        uses: actions/setup-node@v3\r\n+        with:\r\n+          node-version: '20.x'\r\n+\r\n+      - name: yarn install, build, and test\r\n+        run: |\r\n+          cd backend\r\n+          yarn install --production=false\r\n+          yarn build\r\n+        env:\r\n+          NODE_ENV: development\r\n+\r\n+      - name: Copy package files\r\n+        run: |\r\n+          cd backend\r\n+          copy package.json dist\\\r\n+          copy yarn.lock dist\\\r\n+          copy web.config dist\\\r\n+          \r\n+      - name: Install production dependencies\r\n+        run: |\r\n+          cd backend/dist\r\n+          yarn install --production=true --frozen-lockfile\r\n+        env:\r\n+          NODE_ENV: production\r\n+\r\n+      - name: Upload artifact for deployment job\r\n+        uses: actions/upload-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+          path: backend/dist\r\n+\r\n+  deploy:\r\n+    runs-on: windows-latest\r\n+    needs: build\r\n+    environment:\r\n+      name: 'Production'\r\n+      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n+    permissions:\r\n+      id-token: write\r\n+\r\n+    steps:\r\n+      - name: Download artifact from build job\r\n+        uses: actions/download-artifact@v4\r\n+        with:\r\n+          name: node-app\r\n+      \r\n+      - name: Login to Azure\r\n+        uses: azure/login@v2\r\n+        with:\r\n+          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n+          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n+          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n+\r\n+      - name: 'Deploy to Azure Web App'\r\n+        uses: azure/webapps-deploy@v3\r\n+        id: deploy-to-webapp\r\n+        with:\r\n+          app-name: 'facelookBackend'\r\n+          slot-name: 'Production'\r\n+          package: .\n\\ No newline at end of file\n"
                }
            ],
            "date": 1731985409525,
            "name": "Commit-0",
            "content": "# Docs for the Azure Web Apps Deploy action: https://github.com/Azure/webapps-deploy\r\n# More GitHub Actions for Azure: https://github.com/Azure/actions\r\n\r\nname: Build and deploy Node.js app to Azure Web App - facelookBackend\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - main\r\n  workflow_dispatch:\r\n\r\njobs:\r\n  build:\r\n    runs-on: windows-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v4\r\n\r\n      - name: Set up Node.js version\r\n        uses: actions/setup-node@v3\r\n        with:\r\n          node-version: '20.x'\r\n\r\n      - name: yarn install, build, and test\r\n        run: |\r\n          cd backend\r\n          yarn install\r\n          yarn build\r\n          yarn test --if-present\r\n      \r\n      - name: Upload artifact for deployment job\r\n        uses: actions/upload-artifact@v4\r\n        with:\r\n          name: node-app\r\n          path: backend\r\n\r\n  deploy:\r\n    runs-on: ubuntu-latest\r\n    needs: build\r\n    environment:\r\n      name: 'Production'\r\n      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n    permissions:\r\n      id-token: write #This is required for requesting the JWT\r\n\r\n    steps:\r\n      - name: Download artifact from build job\r\n        uses: actions/download-artifact@v4\r\n        with:\r\n          name: node-app\r\n      \r\n      - name: Login to Azure\r\n        uses: azure/login@v2\r\n        with:\r\n          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_B9F0002ED2FE498B82EA5ECFA337F503 }}\r\n          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_78017C0CBDE04E918394F5515B020E50 }}\r\n          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_B80D436B37E74E9496BCE49A09028761 }}\r\n\r\n      - name: 'Deploy to Azure Web App'\r\n        uses: azure/webapps-deploy@v3\r\n        id: deploy-to-webapp\r\n        with:\r\n          app-name: 'facelookBackend'\r\n          slot-name: 'Production'\r\n          package: .\r\n          "
        }
    ]
}